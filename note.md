# C++概述

c起源于贝尔实验室在开发Unix操作系统时开发的一种内部实用性语言。后来在此基础上，发展出了C和C++。C比较小，主要辅助实现语言；C++很大，可以适应各种不同的场合，重要的是它支持两种非常重要的编程形式，即面向对象的编程和泛型编程。

我们常说，C++比C更好的原因是:

A. C++比C晚出现10年
B. C++的开发者比C的开发者更加优秀（bushi）
C. C++的功能更丰富
D. C++很简单

站在越多越好的普遍观点来看，C++更多的功能使它优于C。

## C++ vs java
一般认为，java把面向对象的编程做到了比C++更高的层次。
如果把二者对比

java简化了内存管理的步骤，但是效率没有C++高效

C++需要内存管理，但非常高效

## 面向对象编程（OOP）




## C++的改进
c语言之前是无法在一行的末尾加注释的,c++加入了这个功能。

c的标准库在c++也通用，只不过添加方法变成了
```c
#include <stdio.h> //c
#include <cstdio> //c++
```



使用#define 预处理指令可能会导致错误，而且这种属于脱离语言范畴，无法直接用语法来判断。
所以会有程序员避免使用预处理指令。
```c
#define MAX 100
const int max = 100;
```
这两行代码一个使用预处理指令，一个使用c语法，却都能达到预期的效果，而且后者属于程序的一部分，可以通过编译器的语法检查和调试发现错误

而对于宏，c++有独有一套替换方案，那就是
- inline
在函数的定义前加上inline，可以申请将此函数内联。

内联成功的直接表现无法观测，但是函数的工作逻辑发生了改变。
要知道inline的出现不仅仅解决了使用宏已出错的问题，还减轻了调用函数时的成本，这是为什么呢？

我们都知道，函数的调用需要调用栈，这一个动作就可能会消耗几毫秒的时间。inline的工作机制类似于替换，会把函数内容替换到调用函数的位置，并且属于语法系统。

这样的工作机制就节省了调用栈区的时间。但是替换只能针对于简单的内容，复杂内容也容易出错，inline只适合涵数体内代码简单的函数数使用，不能包含复杂的结构控制语句例如while、switch，并且内联函数本身不能是直接递归函数(自己内部还调用自己的函数)。

内联是以代码膨胀（复制）为代价，仅仅省去了函数调用的开销，从而提高函数的执行效率。如果执行函数体内代码的时间，相比于函数调用的开销较大，那么效率的收获会很少。另一方面，每一处内联函数的调用都要复制代码，将使程序的总代码量增大，消耗更多的内存空间。

